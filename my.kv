WindowManager:
    ConnectionWindow:
    VariablesWindow:
    OutputWindow:

<ConnectionWindow>:
    name: "connection"
    id: connection

    FloatLayout:
        Button: 
            text: "CLUELESS.INC"
            font_size: self.width/20
            size_hint: 1, 0.1
            pos_hint: {"center_x": 0.5, "top": 0.9 }

        ToggleButton:
            size_hint: 0.7, 0.25
            pos_hint: {"center_x": 0.5, "top": 0.7 }
            text: "Fixed-Free" 

            background_normal: 'fixed-free.jpg'
            background_down: 'fixed-free.jpg'

            on_release:
                app.root.current = "variables"
                root.manager.transition.direction = "left"
                root.manager.connection = self.text
                on_release: root.connection_fixed()       
                    
        ToggleButton:
            size_hint: 0.7, 0.25
            pos_hint: {"center_x": 0.5, "top": 0.35 }
            text: "Pin-Roller"

            background_normal: 'pin-roller.jpg'
            background_down: 'pin-roller.jpg'

            on_release:
                app.root.current = "variables"
                root.manager.transition.direction = "left"
                root.manager.connection = self.text
                on_release: root.connection_pin()      

<VariablesWindow>:
    name: "variables"
    id: variables

    FloatLayout:
        
        GridLayout:
            size_hint: 1, 0.2
            pos_hint: {"center_x": 0.5, "top": 0.95 }
            cols: 1
            rows: 1

            Button:
                text: "insert diagram of connection chosen"   

        GridLayout:
            size_hint: 1, 0.1
            pos_hint: {"center_x": 0.5, "top": 0.7}
            cols: 4
            rows: 1

            Button:
                text: root.manager.load

            ToggleButton:
                id: distributed
                text: "distributed"
                on_press: root.manager.load = self.text
                on_press: root.load_distributed()                    
                    
            ToggleButton:
                id: point
                text: "point"
                on_press: root.manager.load = self.text
                on_press: root.load_point()
    
            ToggleButton:
                id: moment
                text: "moment"
                on_press: root.manager.load = self.text
                on_press: root.load_moment()

        GridLayout:
            size_hint: 1, 0.1
            pos_hint: {"center_x": 0.5, "top": 0.5}
            cols: 6
            rows: 1

            Button:
                text: root.manager.mat

            ToggleButton:
                id: wood
                text: "wood"
                on_press: root.manager.mat = self.text
                on_press: root.mat_wood()        
                    
            ToggleButton:
                id: steel
                text: "steel"
                on_press: root.manager.mat = self.text
                on_press: root.mat_steel()

            ToggleButton:
                id: aluminum
                text: "aluminum"
                on_press: root.manager.mat = self.text
                on_press: root.mat_aluminum()

            ToggleButton:
                id: concrete
                text: "concrete"
                on_press: root.manager.mat = self.text
                on_press: root.mat_concrete()

            ToggleButton:
                id: plastic
                text: "plastic"
                on_press: root.manager.mat = self.text
                on_press: root.mat_plastic()

        GridLayout:
            id: container
            size_hint: 0.3, 0.3
            pos_hint: {"right": 1}
            cols: 2
            #rows: 3

            Label:
                text: "Load Magnitude"
            TextInput:
                id: load_value
                multiline: False
                input_filter: 'float'

            Label:
                text: "A Length"
            TextInput:
                id: a_value
                multiline: False
                input_filter: 'float'

            Label:
                text: "R"
            TextInput:
                id: r_value
                multiline: False
                input_filter: 'float'

            Label:
                text: "B"
            TextInput:
                id: b_value
                multiline: False
                input_filter: 'float'

            Label:
                text: "H"
            TextInput:
                id: h_value
                multiline: False
                input_filter: 'float'

            Label:
                text: "L"
            TextInput:
                id: l_value
                multiline: False
                input_filter: 'float'
                
            #Button: 
                #text: "Save Load/Connection Type"
                #on_release: root.save_load_type()

            Button: 
                text: "Calculate"
                on_press: root.save_variables()
                on_release: root.calculate_variables()
                on_release: root.manager.current = "output"

        Button:
            size_hint: 0.2, 0.1
            pos_hint: {"left": 1, "bottom": 0}
            text: "Go Back"
            on_release:
                app.root.current = "connection"
                root.manager.transition.direction = "right"


<OutputWindow>:
    name: "output"
    id: output

    GridLayout: 
        size_hint: 1, 0.5
        pos_hint: {"center_x": 0.5, "bottom": 0.5}
        rows: 2
        cols: 1

        Button:
            text: root.manager.connection

        Button: 
            text: "Go Back" 
            on_release: 
                app.root.current = "variables"
                root.manager.transition.direction = "left"

 